<!DOCTYPE html>
<html>
<head>
	<!-- title variable -->
	<title>  <%= title %>  </title>                 
	<!-- fontawesome link   -->
	<script src="https://kit.fontawesome.com/d46ed99af6.js" crossorigin="anonymous"></script>
      <!-- viewport meta tag  -->
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
     <!-- css functionalities by bootstrap -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
     <!-- css file presented in assets -->
	<link rel="stylesheet" type="text/css" href="/page.css">
</head>
<body>
    <!-- //creating main which contains both the forms  one is of filling the form and another is checkbox form -->
<div id="main" class="container  col-11 col-sm-9 col-md-8  mt-4">
<h1 class="mx-auto mt-1 text-center text-monospace"> TODO App </h1>
  <!-- 1st form starts from here -->
<form action="/formdata" method="POST">
 <div class="">
	<hr>
 <strong>DESCRIPTION</strong>
   
        <!-- description input in first form -->

 <input id="k" type="text" class="shade" name="description" placeholder="WHAT DO YOU NEED TO DO?" required> 
   <hr>
</div>

<div class="row">
<div id="category" class="col-6  text-center">
   
	  <!-- category input in first form  using select-->

	<strong >CATEGORY</strong>
	<br>
	<select name="category" class="mt-1" required>
     <option selected>Choose a category</option>
     <option>Personal</option>
     <option>Work</option>
	<option>School</option>
	<option>Cleaning</option>
	<option>Other</option>
	</select>

</div>


<div class="col-6 text-center">
	<strong>DUE DATE</strong>
	<br>
	               <!-- date input in first form -->
   <input type="date" name="duedate" required>
</div>
</div>
<hr>
 
 <!-- button -->

<div class="row">
<div class="col-6 text-center">
	<!-- ADD BUTTON -->
<button type="submit" class="shadow"><i class="fas fa-plus"></i>Add task </button>
</div>
<div class="col-6  text-center">
	   <!-- DELETE BUTTON -->
	<button type="submit" form="delete-form" class="shadow mb-2"><i class="far fa-trash-alt"></i>Delete task</button>
</div>
</div>
</form>

            <!-- form 2 starts from here which is deletion by using checkboxes
				 showing data passed by context which is in Alldata ,showing it using ejs variables and javascript 
				 iterating over the all data-->
<form action='/deletedata' method="POST" id="delete-form">
  
   <%for(let i of Alldata){%>     
   <hr>
	<div class="row" style="color:goldenrod;">
  <input class="mt-4 ml-2" type="checkbox" name="id" value=<%=i._id%>>
   <div class="col-11  m-1" style="height: 70px;">

   	<div class="d-flex justify-content-between">
      
   	<div style="padding:3px 1px 2px 3px; background-image: linear-gradient(transparent,transparent); height:50%;">
   	<strong><%=i.description%> </strong>
   		<div>
			<i class="far fa-calendar" ></i>&nbsp;<%=i.duedate.toDateString()%>
   		</div>
   	</div>

   	<div class="mt-2 " style="padding:3px 1px 2px 3px; background-image: linear-gradient(transparent,black,transparent); height:50%;">
   	    <%= i.category %>
    </div>
   	
   </div>
</div>
</div>

   <%}%>
   
</form>

</div>



         <!-- added scripts through for bootstrap -->


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
</body>
</html>